import{s as se,f as v,a as y,l as X,g as w,h as E,d as g,c as G,m as Z,j as b,y as ge,i as C,u as p,n as x,w as R,o as ue,r as Ge,E as fe,F as J,G as Ne,H as be,v as ce,I as Ve,p as ae,J as oe,K as Pe,e as ve}from"./scheduler.1328f030.js";import{S as le,i as ne,f as re,b as F,d as H,m as U,g as Le,t as L,c as Me,a as I,e as z}from"./index.457c0cb6.js";import{e as K}from"./each.e59479a4.js";import{b as Ce}from"./paths.95dec8a6.js";import{s as we,F as Se,f as Ee,e as je}from"./metaUtils.c5f0fba8.js";function Be(n){let e,s,t,l,u,a,i=n[0].title+"",o,r;return{c(){e=v("a"),s=v("div"),t=v("img"),u=y(),a=v("p"),o=X(i),this.h()},l(c){e=w(c,"A",{class:!0,href:!0});var d=E(e);s=w(d,"DIV",{class:!0});var f=E(s);t=w(f,"IMG",{alt:!0,src:!0,class:!0}),f.forEach(g),u=G(d),a=w(d,"P",{});var m=E(a);o=Z(m,i),m.forEach(g),d.forEach(g),this.h()},h(){b(t,"alt","a placeholder"),ge(t.src,l="/images/"+n[0].image)||b(t,"src",l),b(t,"class","svelte-1ywc0q3"),b(s,"class","wrap svelte-1ywc0q3"),b(e,"class","orb svelte-1ywc0q3"),b(e,"href",r=we(n[0].pathData.path.replace("meta","")))},m(c,d){C(c,e,d),p(e,s),p(s,t),p(e,u),p(e,a),p(a,o)},p(c,[d]){d&1&&!ge(t.src,l="/images/"+c[0].image)&&b(t,"src",l),d&1&&i!==(i=c[0].title+"")&&x(o,i),d&1&&r!==(r=we(c[0].pathData.path.replace("meta","")))&&b(e,"href",r)},i:R,o:R,d(c){c&&g(e)}}}function Fe(n,e,s){let{meta:t}=e;return ue(()=>{}),n.$$set=l=>{"meta"in l&&s(0,t=l.meta)},[t]}class He extends le{constructor(e){super(),ne(this,e,Fe,Be,se,{meta:0})}}function ke(n,e,s){const t=n.slice();return t[1]=e[s],t}function Oe(n){let e,s,t,l=n[1].title+"",u,a,i,o,r=n[1].authors+"",c,d;return{c(){e=v("tr"),s=v("td"),t=v("a"),u=X(l),i=y(),o=v("td"),c=X(r),d=y(),this.h()},l(f){e=w(f,"TR",{class:!0});var m=E(e);s=w(m,"TD",{});var k=E(s);t=w(k,"A",{href:!0});var D=E(t);u=Z(D,l),D.forEach(g),k.forEach(g),i=G(m),o=w(m,"TD",{});var h=E(o);c=Z(h,r),h.forEach(g),d=G(m),m.forEach(g),this.h()},h(){b(t,"href",a=n[1].path),b(e,"class","svelte-g5r3bw")},m(f,m){C(f,e,m),p(e,s),p(s,t),p(t,u),p(e,i),p(e,o),p(o,c),p(e,d)},p(f,m){m&1&&l!==(l=f[1].title+"")&&x(u,l),m&1&&a!==(a=f[1].path)&&b(t,"href",a),m&1&&r!==(r=f[1].authors+"")&&x(c,r)},d(f){f&&g(e)}}}function Ue(n){let e,s,t='<tr class="svelte-g5r3bw"><th>Title</th> <th>Authors</th></tr>',l,u,a=K(n[0]),i=[];for(let o=0;o<a.length;o+=1)i[o]=Oe(ke(n,a,o));return{c(){e=v("table"),s=v("thead"),s.innerHTML=t,l=y(),u=v("tbody");for(let o=0;o<i.length;o+=1)i[o].c();this.h()},l(o){e=w(o,"TABLE",{class:!0});var r=E(e);s=w(r,"THEAD",{"data-svelte-h":!0}),Ge(s)!=="svelte-1tqgf2d"&&(s.innerHTML=t),l=G(r),u=w(r,"TBODY",{});var c=E(u);for(let d=0;d<i.length;d+=1)i[d].l(c);c.forEach(g),r.forEach(g),this.h()},h(){b(e,"class","table element-table has-text-left")},m(o,r){C(o,e,r),p(e,s),p(e,l),p(e,u);for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(u,null)},p(o,[r]){if(r&1){a=K(o[0]);let c;for(c=0;c<a.length;c+=1){const d=ke(o,a,c);i[c]?i[c].p(d,r):(i[c]=Oe(d),i[c].c(),i[c].m(u,null))}for(;c<i.length;c+=1)i[c].d(1);i.length=a.length}},i:R,o:R,d(o){o&&g(e),fe(i,o)}}}function ze(n,e,s){let{groups:t=[]}=e;return n.$$set=l=>{"groups"in l&&s(0,t=l.groups)},[t]}class Re extends le{constructor(e){super(),ne(this,e,ze,Ue,se,{groups:0})}}function Te(n,e,s){const t=n.slice();return t[4]=e[s],t}function Ae(n){let e,s=n[4]+"",t,l;return{c(){e=v("option"),t=X(s),this.h()},l(u){e=w(u,"OPTION",{});var a=E(e);t=Z(a,s),a.forEach(g),this.h()},h(){e.__value=l=n[4],J(e,e.__value)},m(u,a){C(u,e,a),p(e,t)},p(u,a){a&2&&s!==(s=u[4]+"")&&x(t,s),a&2&&l!==(l=u[4])&&(e.__value=l,J(e,e.__value))},d(u){u&&g(e)}}}function Je(n){let e,s,t,l,u,a,i,o=K(n[1]),r=[];for(let c=0;c<o.length;c+=1)r[c]=Ae(Te(n,o,c));return{c(){e=v("control"),s=v("div"),t=v("select"),l=v("option"),u=X(n[2]);for(let c=0;c<r.length;c+=1)r[c].c();this.h()},l(c){e=w(c,"CONTROL",{class:!0});var d=E(e);s=w(d,"DIV",{class:!0});var f=E(s);t=w(f,"SELECT",{name:!0});var m=E(t);l=w(m,"OPTION",{});var k=E(l);u=Z(k,n[2]),k.forEach(g);for(let D=0;D<r.length;D+=1)r[D].l(m);m.forEach(g),f.forEach(g),d.forEach(g),this.h()},h(){l.__value=n[2],J(l,l.__value),b(t,"name","audience"),n[0]===void 0&&Ne(()=>n[3].call(t)),b(s,"class","select is-fullwidth"),b(e,"class","control drop-down column my-1 py-0 mx-0")},m(c,d){C(c,e,d),p(e,s),p(s,t),p(t,l),p(l,u);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(t,null);be(t,n[0],!0),a||(i=ce(t,"change",n[3]),a=!0)},p(c,[d]){if(d&4&&x(u,c[2]),d&4&&(l.__value=c[2],J(l,l.__value)),d&2){o=K(c[1]);let f;for(f=0;f<o.length;f+=1){const m=Te(c,o,f);r[f]?r[f].p(m,d):(r[f]=Ae(m),r[f].c(),r[f].m(t,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=o.length}d&7&&be(t,c[0])},i:R,o:R,d(c){c&&g(e),fe(r,c),a=!1,i()}}}function Ke(n,e,s){let{options:t}=e,{defaultOption:l}=e,{selected:u=""}=e;ue(()=>{s(0,u=l)});function a(){u=Ve(this),s(0,u),s(1,t),s(2,l)}return n.$$set=i=>{"options"in i&&s(1,t=i.options),"defaultOption"in i&&s(2,l=i.defaultOption),"selected"in i&&s(0,u=i.selected)},[u,t,l,a]}class ie extends le{constructor(e){super(),ne(this,e,Ke,Je,se,{options:1,defaultOption:2,selected:0})}}var De={prefix:"far",iconName:"circle",icon:[512,512,[128308,128309,128992,128993,128994,128995,128996,9679,9898,9899,11044,61708,61915],"f111","M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"]};function $e(n,e,s){const t=n.slice();return t[14]=e[s],t}function Ye(n){let e,s,t=K(n[5]),l=[];for(let a=0;a<t.length;a+=1)l[a]=Ie($e(n,t,a));const u=a=>L(l[a],1,1,()=>{l[a]=null});return{c(){for(let a=0;a<l.length;a+=1)l[a].c();e=ve()},l(a){for(let i=0;i<l.length;i+=1)l[i].l(a);e=ve()},m(a,i){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(a,i);C(a,e,i),s=!0},p(a,i){if(i&32){t=K(a[5]);let o;for(o=0;o<t.length;o+=1){const r=$e(a,t,o);l[o]?(l[o].p(r,i),I(l[o],1)):(l[o]=Ie(r),l[o].c(),I(l[o],1),l[o].m(e.parentNode,e))}for(Le(),o=t.length;o<l.length;o+=1)u(o);Me()}},i(a){if(!s){for(let i=0;i<t.length;i+=1)I(l[i]);s=!0}},o(a){l=l.filter(Boolean);for(let i=0;i<l.length;i+=1)L(l[i]);s=!1},d(a){a&&g(e),fe(l,a)}}}function Qe(n){let e,s;return e=new Re({props:{groups:n[5]}}),{c(){F(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,l){U(e,t,l),s=!0},p(t,l){const u={};l&32&&(u.groups=t[5]),e.$set(u)},i(t){s||(I(e.$$.fragment,t),s=!0)},o(t){L(e.$$.fragment,t),s=!1},d(t){z(e,t)}}}function Ie(n){let e,s;return e=new He({props:{meta:n[14]}}),{c(){F(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,l){U(e,t,l),s=!0},p(t,l){const u={};l&32&&(u.meta=t[14]),e.$set(u)},i(t){s||(I(e.$$.fragment,t),s=!0)},o(t){L(e.$$.fragment,t),s=!1},d(t){z(e,t)}}}function We(n){let e,s,t,l,u,a,i,o,r,c,d,f,m,k,D,h,O,M,q,Y,T,A,P,Q,ee;function te(_){n[8](_)}let de={options:n[2],defaultOption:"All Audiences"};n[1].audiences!==void 0&&(de.selected=n[1].audiences),t=new ie({props:de}),ae.push(()=>re(t,"selected",te));function qe(_){n[9](_)}let _e={options:n[3],defaultOption:"All Subjects"};n[1].subjects!==void 0&&(_e.selected=n[1].subjects),a=new ie({props:_e}),ae.push(()=>re(a,"selected",qe));function ye(_){n[10](_)}let he={options:n[4],defaultOption:"All Grade Levels"};n[1].grades!==void 0&&(he.selected=n[1].grades),r=new ie({props:he}),ae.push(()=>re(r,"selected",ye)),M=new Se({props:{icon:n[0]?De:Ee}});const pe=[Qe,Ye],N=[];function me(_,j){return _[0]?0:1}return T=me(n),A=N[T]=pe[T](n),{c(){e=v("div"),s=v("div"),F(t.$$.fragment),u=y(),F(a.$$.fragment),o=y(),F(r.$$.fragment),d=y(),f=v("div"),m=v("div"),k=v("input"),D=y(),h=v("div"),O=v("button"),F(M.$$.fragment),Y=y(),A.c(),this.h()},l(_){e=w(_,"DIV",{class:!0});var j=E(e);s=w(j,"DIV",{class:!0});var $=E(s);H(t.$$.fragment,$),u=G($),H(a.$$.fragment,$),o=G($),H(r.$$.fragment,$),d=G($),f=w($,"DIV",{class:!0});var V=E(f);m=w(V,"DIV",{class:!0});var S=E(m);k=w(S,"INPUT",{class:!0,placeholder:!0}),S.forEach(g),D=G(V),h=w(V,"DIV",{class:!0});var W=E(h);O=w(W,"BUTTON",{"data-tooltip":!0,class:!0});var B=E(O);H(M.$$.fragment,B),B.forEach(g),W.forEach(g),V.forEach(g),$.forEach(g),Y=G(j),A.l(j),j.forEach(g),this.h()},h(){b(k,"class","input control mr-2"),b(k,"placeholder","Group Name"),b(m,"class","column my-1 mx-0 py-0 field is-10-mobile"),b(O,"data-tooltip",q="View as "+(n[0]?"Orbs":"List")),b(O,"class","m-0 p-0 control has-tooltip-arrow button svelte-17cv2n9"),b(h,"class","column is-narrow is-1-mobile my-1 mx-0 px-0 py-0"),b(f,"class","columns column is-mobile m-0 p-0"),b(s,"class","field columns is-tablet m-0 p-0"),b(e,"class","projects")},m(_,j){C(_,e,j),p(e,s),U(t,s,null),p(s,u),U(a,s,null),p(s,o),U(r,s,null),p(s,d),p(s,f),p(f,m),p(m,k),J(k,n[1].term),p(f,D),p(f,h),p(h,O),U(M,O,null),p(e,Y),N[T].m(e,null),P=!0,Q||(ee=[ce(k,"input",n[11]),ce(O,"click",n[6])],Q=!0)},p(_,[j]){const $={};j&4&&($.options=_[2]),!l&&j&2&&(l=!0,$.selected=_[1].audiences,oe(()=>l=!1)),t.$set($);const V={};j&8&&(V.options=_[3]),!i&&j&2&&(i=!0,V.selected=_[1].subjects,oe(()=>i=!1)),a.$set(V);const S={};j&16&&(S.options=_[4]),!c&&j&2&&(c=!0,S.selected=_[1].grades,oe(()=>c=!1)),r.$set(S),j&2&&k.value!==_[1].term&&J(k,_[1].term);const W={};j&1&&(W.icon=_[0]?De:Ee),M.$set(W),(!P||j&1&&q!==(q="View as "+(_[0]?"Orbs":"List")))&&b(O,"data-tooltip",q);let B=T;T=me(_),T===B?N[T].p(_,j):(Le(),L(N[B],1,1,()=>{N[B]=null}),Me(),A=N[T],A?A.p(_,j):(A=N[T]=pe[T](_),A.c()),I(A,1),A.m(e,null))},i(_){P||(I(t.$$.fragment,_),I(a.$$.fragment,_),I(r.$$.fragment,_),I(M.$$.fragment,_),I(A),P=!0)},o(_){L(t.$$.fragment,_),L(a.$$.fragment,_),L(r.$$.fragment,_),L(M.$$.fragment,_),L(A),P=!1},d(_){_&&g(e),z(t),z(a),z(r),z(M),N[T].d(),Q=!1,Pe(ee)}}}function Xe(n,e){let s=0;for(let t=0;t<n.length;t++)s+=e.includes(n[t])?1:0;return s>0}function Ze(n,e,s){let t,{elems:l=[]}=e,u=[],a=[],i=[],{list:o=!1}=e,r={term:"",audiences:"",subjects:"",grades:""};function c(){s(0,o=!o)}ue(async()=>{d(r,l);const h=await(await fetch(`${Ce}/api/library/meta`)).json();s(2,u=h.audiences);for(const O in h.subjects)s(3,a=[...a,O]);for(const O in h.grades)s(4,i=[...i,O])});function d(h,O){return O.filter(q=>{var te;const Y=h.subjects=="All Subjects"?!0:q.subjects.includes(h.subjects),T=h.audiences=="All Audiences"?!0:q.audiences.includes(h.audiences),A=je([h.grades]),P=je(q.grades),Q=h.grades=="All Grade Levels"?!0:Xe(A,P),ee=h.term.length>0?(te=q.title)==null?void 0:te.toLowerCase().includes(h.term.toLowerCase()):!0;return Y&&T&&ee&&Q})}function f(h){n.$$.not_equal(r.audiences,h)&&(r.audiences=h,s(1,r))}function m(h){n.$$.not_equal(r.subjects,h)&&(r.subjects=h,s(1,r))}function k(h){n.$$.not_equal(r.grades,h)&&(r.grades=h,s(1,r))}function D(){r.term=this.value,s(1,r)}return n.$$set=h=>{"elems"in h&&s(7,l=h.elems),"list"in h&&s(0,o=h.list)},n.$$.update=()=>{n.$$.dirty&130&&s(5,t=d(r,l))},[o,r,u,a,i,t,c,l,f,m,k,D]}class nt extends le{constructor(e){super(),ne(this,e,Ze,We,se,{elems:7,list:0})}}export{nt as P};
