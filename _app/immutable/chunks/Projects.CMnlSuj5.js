import{s as ne,e as w,k as G,t as ee,c as j,j as A,d as v,m as I,r as te,a as g,J as de,i as U,o as _,v as se,n as J,q as ke,g as Me,p as Ee,G as W,E as Ge,x as pe,A as he,L as X,I as Ie,w as _e}from"./scheduler.qbksZXsy.js";import{S as ae,i as le,f as Z,c as B,b as S,m as C,g as Ae,a as M,e as De,t as T,d as F}from"./index.DLzkklsW.js";import{e as R}from"./each.D6YF6ztN.js";import{b as Oe}from"./paths.BDxaeqQT.js";import{s as Y,F as qe,c as me}from"./index.DuuqFshP.js";import{D as x}from"./Dropdown.DFAzjuJ-.js";import{e as ge}from"./metaUtils.C7SOO9Rs.js";function Ne(l){let e,s,t,n,d,r,o=l[0].title+"",a,i;return{c(){e=w("a"),s=w("div"),t=w("img"),d=G(),r=w("p"),a=ee(o),this.h()},l(c){e=j(c,"A",{class:!0,href:!0});var p=A(e);s=j(p,"DIV",{class:!0});var m=A(s);t=j(m,"IMG",{alt:!0,src:!0,class:!0}),m.forEach(v),d=I(p),r=j(p,"P",{});var h=A(r);a=te(h,o),h.forEach(v),p.forEach(v),this.h()},h(){g(t,"alt","a placeholder"),de(t.src,n="/images/"+l[0].image)||g(t,"src",n),g(t,"class","svelte-156t56h"),g(s,"class","wrap svelte-156t56h"),g(e,"class","orb svelte-156t56h"),g(e,"href",i=Y(l[0].pathData.path.replace("meta","")))},m(c,p){U(c,e,p),_(e,s),_(s,t),_(e,d),_(e,r),_(r,a)},p(c,[p]){p&1&&!de(t.src,n="/images/"+c[0].image)&&g(t,"src",n),p&1&&o!==(o=c[0].title+"")&&se(a,o),p&1&&i!==(i=Y(c[0].pathData.path.replace("meta","")))&&g(e,"href",i)},i:J,o:J,d(c){c&&v(e)}}}function Ve(l,e,s){let{meta:t}=e;return ke(()=>{}),l.$$set=n=>{"meta"in n&&s(0,t=n.meta)},[t]}class Pe extends ae{constructor(e){super(),le(this,e,Ve,Ne,ne,{meta:0})}}function be(l,e,s){const t=l.slice();return t[1]=e[s],t}function ve(l){let e,s,t,n=l[1].title+"",d,r,o,a,i=l[1].authors+"",c,p;return{c(){e=w("tr"),s=w("td"),t=w("a"),d=ee(n),o=G(),a=w("td"),c=ee(i),p=G(),this.h()},l(m){e=j(m,"TR",{class:!0});var h=A(e);s=j(h,"TD",{});var O=A(s);t=j(O,"A",{href:!0});var k=A(t);d=te(k,n),k.forEach(v),O.forEach(v),o=I(h),a=j(h,"TD",{});var f=A(a);c=te(f,i),f.forEach(v),p=I(h),h.forEach(v),this.h()},h(){g(t,"href",r=Y(l[1].pathData.path).replace("/meta","")),g(e,"class","svelte-g5r3bw")},m(m,h){U(m,e,h),_(e,s),_(s,t),_(t,d),_(e,o),_(e,a),_(a,c),_(e,p)},p(m,h){h&1&&n!==(n=m[1].title+"")&&se(d,n),h&1&&r!==(r=Y(m[1].pathData.path).replace("/meta",""))&&g(t,"href",r),h&1&&i!==(i=m[1].authors+"")&&se(c,i)},d(m){m&&v(e)}}}function Be(l){let e,s,t='<tr class="svelte-g5r3bw"><th>Title</th> <th>Authors</th></tr>',n,d,r=R(l[0]),o=[];for(let a=0;a<r.length;a+=1)o[a]=ve(be(l,r,a));return{c(){e=w("table"),s=w("thead"),s.innerHTML=t,n=G(),d=w("tbody");for(let a=0;a<o.length;a+=1)o[a].c();this.h()},l(a){e=j(a,"TABLE",{class:!0});var i=A(e);s=j(i,"THEAD",{"data-svelte-h":!0}),Me(s)!=="svelte-1tqgf2d"&&(s.innerHTML=t),n=I(i),d=j(i,"TBODY",{});var c=A(d);for(let p=0;p<o.length;p+=1)o[p].l(c);c.forEach(v),i.forEach(v),this.h()},h(){g(e,"class","table element-table has-text-left")},m(a,i){U(a,e,i),_(e,s),_(e,n),_(e,d);for(let c=0;c<o.length;c+=1)o[c]&&o[c].m(d,null)},p(a,[i]){if(i&1){r=R(a[0]);let c;for(c=0;c<r.length;c+=1){const p=be(a,r,c);o[c]?o[c].p(p,i):(o[c]=ve(p),o[c].c(),o[c].m(d,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=r.length}},i:J,o:J,d(a){a&&v(e),Ee(o,a)}}}function Se(l,e,s){let{groups:t=[]}=e;return l.$$set=n=>{"groups"in n&&s(0,t=n.groups)},[t]}class Ce extends ae{constructor(e){super(),le(this,e,Se,Be,ne,{groups:0})}}var $e={prefix:"far",iconName:"circle",icon:[512,512,[128308,128309,128992,128993,128994,128995,128996,9679,9898,9899,11044,61708,61915],"f111","M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"]};function we(l,e,s){const t=l.slice();return t[14]=e[s],t}function Fe(l){let e,s,t=R(l[5]),n=[];for(let r=0;r<t.length;r+=1)n[r]=je(we(l,t,r));const d=r=>M(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=_e()},l(r){for(let o=0;o<n.length;o+=1)n[o].l(r);e=_e()},m(r,o){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,o);U(r,e,o),s=!0},p(r,o){if(o&32){t=R(r[5]);let a;for(a=0;a<t.length;a+=1){const i=we(r,t,a);n[a]?(n[a].p(i,o),T(n[a],1)):(n[a]=je(i),n[a].c(),T(n[a],1),n[a].m(e.parentNode,e))}for(Ae(),a=t.length;a<n.length;a+=1)d(a);De()}},i(r){if(!s){for(let o=0;o<t.length;o+=1)T(n[o]);s=!0}},o(r){n=n.filter(Boolean);for(let o=0;o<n.length;o+=1)M(n[o]);s=!1},d(r){r&&v(e),Ee(n,r)}}}function He(l){let e,s;return e=new Ce({props:{groups:l[5]}}),{c(){B(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,n){C(e,t,n),s=!0},p(t,n){const d={};n&32&&(d.groups=t[5]),e.$set(d)},i(t){s||(T(e.$$.fragment,t),s=!0)},o(t){M(e.$$.fragment,t),s=!1},d(t){F(e,t)}}}function je(l){let e,s;return e=new Pe({props:{meta:l[14]}}),{c(){B(e.$$.fragment)},l(t){S(e.$$.fragment,t)},m(t,n){C(e,t,n),s=!0},p(t,n){const d={};n&32&&(d.meta=t[14]),e.$set(d)},i(t){s||(T(e.$$.fragment,t),s=!0)},o(t){M(e.$$.fragment,t),s=!1},d(t){F(e,t)}}}function Ue(l){let e,s,t,n,d,r,o,a,i,c,p,m,h,O,k,f,L,z,$,E,V,H,y;function K(u){l[8](u)}let re={options:l[2],defaultOption:"All Audiences"};l[1].audiences!==void 0&&(re.selected=l[1].audiences),t=new x({props:re}),W.push(()=>Z(t,"selected",K));function Te(u){l[9](u)}let oe={options:l[3],defaultOption:"All Subjects"};l[1].subjects!==void 0&&(oe.selected=l[1].subjects),r=new x({props:oe}),W.push(()=>Z(r,"selected",Te));function Le(u){l[10](u)}let ie={options:l[4],defaultOption:"All Grade Levels"};l[1].grades!==void 0&&(ie.selected=l[1].grades),i=new x({props:ie}),W.push(()=>Z(i,"selected",Le)),f=new qe({props:{icon:l[0]?$e:me}});const ce=[He,Fe],q=[];function ue(u,b){return u[0]?0:1}return $=ue(l),E=q[$]=ce[$](l),{c(){e=w("div"),s=w("div"),B(t.$$.fragment),d=G(),B(r.$$.fragment),a=G(),B(i.$$.fragment),p=G(),m=w("div"),h=w("input"),O=G(),k=w("button"),B(f.$$.fragment),z=G(),E.c(),this.h()},l(u){e=j(u,"DIV",{class:!0});var b=A(e);s=j(b,"DIV",{class:!0});var D=A(s);S(t.$$.fragment,D),d=I(D),S(r.$$.fragment,D),a=I(D),S(i.$$.fragment,D),p=I(D),m=j(D,"DIV",{class:!0});var N=A(m);h=j(N,"INPUT",{class:!0,placeholder:!0}),O=I(N),k=j(N,"BUTTON",{style:!0,"data-tooltip":!0,class:!0});var P=A(k);S(f.$$.fragment,P),P.forEach(v),N.forEach(v),D.forEach(v),z=I(b),E.l(b),b.forEach(v),this.h()},h(){g(h,"class","input mr-2 is-inline-block svelte-1foox37"),g(h,"placeholder","Group Name"),Ge(k,"width","2rem"),g(k,"data-tooltip",L="View as "+(l[0]?"Orbs":"List")),g(k,"class","has-tooltip-arrow button svelte-1foox37"),g(m,"class","my-2 mx-2 p-0 is-flex is-inline-block-tablet"),g(s,"class","field m-0 p-0"),g(e,"class","projects")},m(u,b){U(u,e,b),_(e,s),C(t,s,null),_(s,d),C(r,s,null),_(s,a),C(i,s,null),_(s,p),_(s,m),_(m,h),pe(h,l[1].term),_(m,O),_(m,k),C(f,k,null),_(e,z),q[$].m(e,null),V=!0,H||(y=[he(h,"input",l[11]),he(k,"click",l[6])],H=!0)},p(u,[b]){const D={};b&4&&(D.options=u[2]),!n&&b&2&&(n=!0,D.selected=u[1].audiences,X(()=>n=!1)),t.$set(D);const N={};b&8&&(N.options=u[3]),!o&&b&2&&(o=!0,N.selected=u[1].subjects,X(()=>o=!1)),r.$set(N);const P={};b&16&&(P.options=u[4]),!c&&b&2&&(c=!0,P.selected=u[1].grades,X(()=>c=!1)),i.$set(P),b&2&&h.value!==u[1].term&&pe(h,u[1].term);const fe={};b&1&&(fe.icon=u[0]?$e:me),f.$set(fe),(!V||b&1&&L!==(L="View as "+(u[0]?"Orbs":"List")))&&g(k,"data-tooltip",L);let Q=$;$=ue(u),$===Q?q[$].p(u,b):(Ae(),M(q[Q],1,1,()=>{q[Q]=null}),De(),E=q[$],E?E.p(u,b):(E=q[$]=ce[$](u),E.c()),T(E,1),E.m(e,null))},i(u){V||(T(t.$$.fragment,u),T(r.$$.fragment,u),T(i.$$.fragment,u),T(f.$$.fragment,u),T(E),V=!0)},o(u){M(t.$$.fragment,u),M(r.$$.fragment,u),M(i.$$.fragment,u),M(f.$$.fragment,u),M(E),V=!1},d(u){u&&v(e),F(t),F(r),F(i),F(f),q[$].d(),H=!1,Ie(y)}}}function ze(l,e){let s=0;for(let t=0;t<l.length;t++)s+=e.includes(l[t])?1:0;return s>0}function ye(l,e,s){let t,{elems:n=[]}=e,d=[],r=[],o=[],{list:a=!1}=e,i={term:"",audiences:"",subjects:"",grades:""};function c(){s(0,a=!a)}ke(async()=>{p(i,n);const f=await(await fetch(`${Oe}/api/library/meta.json`)).json();s(2,d=f.audiences);for(const L in f.subjects)s(3,r=[...r,f.subjects[L]]);for(const L in f.grades)s(4,o=[...o,L])});function p(f,L){return L.filter($=>{const E=f.subjects=="All Subjects"?!0:$.subjects.includes(f.subjects),V=f.audiences=="All Audiences"?!0:$.audiences.includes(f.audiences),H=ge([f.grades]),y=ge($.grades),K=f.grades=="All Grade Levels"?!0:ze(H,y);return E&&V&&K})}function m(f){l.$$.not_equal(i.audiences,f)&&(i.audiences=f,s(1,i))}function h(f){l.$$.not_equal(i.subjects,f)&&(i.subjects=f,s(1,i))}function O(f){l.$$.not_equal(i.grades,f)&&(i.grades=f,s(1,i))}function k(){i.term=this.value,s(1,i)}return l.$$set=f=>{"elems"in f&&s(7,n=f.elems),"list"in f&&s(0,a=f.list)},l.$$.update=()=>{l.$$.dirty&130&&s(5,t=p(i,n))},[a,i,d,r,o,t,c,n,m,h,O,k]}class Ze extends ae{constructor(e){super(),le(this,e,ye,Ue,ne,{elems:7,list:0})}}export{Ze as P};
